<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Reference - attest.ink</title>
    <meta name="description" content="Complete API documentation for programmatic access to attest.ink services">
    <link rel="icon" type="image/svg+xml" href="/assets/logo/favicon.svg">
    <link rel="apple-touch-icon" href="/assets/apple-touch-icon.png">
    <link rel="icon" type="image/x-icon" href="/assets/favicon.ico">
    <link rel="manifest" href="/assets/site.webmanifest">
    <meta name="theme-color" content="#111827">
    <link rel="stylesheet" href="/static/style.css">
    <link rel="stylesheet" href="/static/badge-styles.css">
    <link rel="stylesheet" href="/static/mobile-fixes.css">
    <style>
        .api-container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 2rem;
        }
        
        .toc {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 3rem;
        }
        
        .toc h2 {
            margin-top: 0;
            color: var(--text-primary);
        }
        
        .toc ul {
            list-style: none;
            padding-left: 0;
        }
        
        .toc ul ul {
            padding-left: 1.5rem;
            margin-top: 0.5rem;
        }
        
        .toc a {
            color: var(--primary-color);
            text-decoration: none;
            display: block;
            padding: 0.25rem 0;
            transition: opacity 0.2s;
        }
        
        .toc a:hover {
            opacity: 0.8;
        }
        
        .endpoint-section {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
        }
        
        .endpoint-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }
        
        .method-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 6px;
            font-size: 14px;
            font-weight: bold;
            text-transform: uppercase;
        }
        
        .method-get {
            background: #28a745;
            color: white;
        }
        
        .method-post {
            background: #007bff;
            color: white;
        }
        
        .endpoint-url {
            font-family: 'Consolas', 'Monaco', monospace;
            background: var(--bg-code);
            padding: 0.5rem 1rem;
            border-radius: 6px;
            font-size: 16px;
        }
        
        pre {
            background: var(--bg-code);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 1rem;
            overflow-x: auto;
            margin: 1rem 0;
        }
        
        code {
            background: var(--bg-code);
            padding: 0.2rem 0.4rem;
            border-radius: 4px;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9em;
        }
        
        pre code {
            background: none;
            padding: 0;
        }
        
        .param-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }
        
        .param-table th,
        .param-table td {
            padding: 0.75rem;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }
        
        .param-table th {
            background: var(--bg-panel);
            font-weight: bold;
        }
        
        .param-table td:first-child {
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9em;
        }
        
        .table-wrapper {
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
            margin: 0 -1rem;
            padding: 0 1rem;
        }
        
        .table-wrapper table {
            min-width: 600px;
        }
        
        .info-box {
            background: #ecfdf5;
            border: 1px solid #10b981;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
        }
        
        .warning-box {
            background: #fef3c7;
            border: 1px solid #f59e0b;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
        }
        
        [data-theme="dark"] .info-box {
            background: #064e3b;
            border-color: #10b981;
        }
        
        [data-theme="dark"] .warning-box {
            background: #78350f;
            border-color: #f59e0b;
        }
        
        .code-examples {
            margin-top: 3rem;
        }
        
        .language-tabs {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }
        
        .language-tab {
            padding: 0.5rem 1rem;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
            white-space: nowrap;
        }
        
        .language-tab:hover {
            background: var(--bg-panel);
        }
        
        .language-tab.active {
            background: var(--primary-color);
            color: white !important;
            border-color: var(--primary-color);
        }
        
        [data-theme="dark"] .language-tab.active {
            color: #111827 !important;
        }
        
        .code-example {
            display: none;
        }
        
        .code-example.active {
            display: block;
        }
        
        /* Mobile optimization */
        @media (max-width: 768px) {
            .api-container {
                padding: 1rem;
            }
            
            .endpoint-section {
                padding: 1rem;
                margin: 1rem -1rem;
                border-radius: 0;
                border-left: none;
                border-right: none;
            }
            
            .toc {
                margin: 1rem -1rem 2rem;
                border-radius: 0;
                border-left: none;
                border-right: none;
            }
            
            pre {
                font-size: 0.75rem;
                margin: 1rem -1rem;
                border-radius: 0;
                border-left: none;
                border-right: none;
            }
            
            .endpoint-header {
                flex-wrap: wrap;
            }
            
            .endpoint-url {
                font-size: 14px;
                word-break: break-all;
            }
            
            .param-table {
                font-size: 14px;
            }
            
            .param-table th,
            .param-table td {
                padding: 0.5rem;
            }
            
            .info-box,
            .warning-box {
                margin: 1rem -1rem;
                border-radius: 0;
                border-left: none;
                border-right: none;
            }
            
            h2 {
                font-size: 1.5rem;
            }
            
            h3 {
                font-size: 1.25rem;
            }
            
            .language-tabs {
                margin: 0 -1rem 1rem;
                padding: 0 1rem;
            }
        }
        
        @media (max-width: 480px) {
            .api-container {
                padding: 0.75rem;
            }
            
            .param-table {
                font-size: 12px;
            }
            
            .param-table th,
            .param-table td {
                padding: 0.4rem;
            }
        }
    </style>
    <script>
        // Prevent theme flicker
        (function() {
            const saved = localStorage.getItem('theme');
            let theme = 'light';
            if (saved) {
                theme = saved;
            } else if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                theme = 'dark';
            } else {
                const hour = new Date().getHours();
                if (hour >= 18 || hour < 6) {
                    theme = 'dark';
                }
            }
            document.documentElement.setAttribute('data-theme', theme);
        })();
    </script>
</head>
<body>
    <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">D</button>
    <div class="container">
        <nav>
            <div class="nav-inner">
                <a href="/" class="logo">
                    <img src="/assets/logo/circular-2-ai.svg" alt="attest.ink logo">
                    <span>attest.ink</span>
                </a>
                <ul>
                    <li><a href="/create/">Create</a></li>
                    <li><a href="/verify/">Verify</a></li>
                    <li class="dropdown">
                        <span class="dropdown-toggle">More</span>
                        <div class="dropdown-menu">
                            <a href="/protocol/">Protocol</a>
                            <a href="/showcase/">Badges</a>
                            <a href="/examples/">Examples</a>
                            <a href="/developers/">Developers</a>
                            <a href="/faq.html">FAQ</a>
                        </div>
                    </li>
                </ul>
            </div>
        </nav>
        
        <main>
            <section class="hero">
                <h1>API Reference</h1>
                <p>Complete API documentation for programmatic access to attest.ink services</p>
            </section>

            <div class="api-container">
                <div class="toc">
                    <h2>Table of Contents</h2>
                    <ul>
                        <li><a href="#authentication">Authentication</a></li>
                        <li>
                            <a href="#endpoints">Endpoints</a>
                            <ul>
                                <li><a href="#create-attestation">Create Attestation</a></li>
                                <li><a href="#shorten-url">Shorten URL</a></li>
                                <li><a href="#verify-attestation">Verify Attestation</a></li>
                                <li><a href="#get-ai-models">Get AI Models</a></li>
                            </ul>
                        </li>
                        <li><a href="#response-formats">Response Formats</a></li>
                        <li><a href="#error-handling">Error Handling</a></li>
                        <li><a href="#rate-limits">Rate Limits</a></li>
                        <li><a href="#code-examples">Code Examples</a></li>
                    </ul>
                </div>

                <section id="authentication">
                    <h2>Authentication</h2>
                    <p>Most endpoints are publicly accessible. Premium features require an API key:</p>
                    <pre><code># Premium endpoints require API key
curl -X POST https://attest.ink/api/shorten \
  -H "Content-Type: application/json" \
  -d '{"apiKey": "ak_your_api_key", ...}'</code></pre>
                    
                    <div class="info-box">
                        <strong>ðŸ’¡ Getting an API Key:</strong> Purchase lifetime access for $20 to receive your API key via email.
                    </div>
                </section>

                <section id="endpoints">
                    <h2>Endpoints</h2>

                    <div id="create-attestation" class="endpoint-section">
                        <h3>Create Attestation</h3>
                        <p>Create a new AI attestation for your content.</p>
                        
                        <div class="endpoint-header">
                            <span class="method-badge method-get">GET</span>
                            <code class="endpoint-url">/api/create.html</code>
                        </div>

                        <h4>Parameters</h4>
                        <div class="table-wrapper">
                            <table class="param-table">
                                <thead>
                                    <tr>
                                        <th>Parameter</th>
                                        <th>Type</th>
                                        <th>Required</th>
                                        <th>Description</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>content_name</td>
                                        <td>string</td>
                                        <td>Yes</td>
                                        <td>Human-readable name for the content</td>
                                    </tr>
                                    <tr>
                                        <td>content</td>
                                        <td>string</td>
                                        <td>No</td>
                                        <td>The actual content (will be hashed)</td>
                                    </tr>
                                    <tr>
                                        <td>content_hash</td>
                                        <td>string</td>
                                        <td>No</td>
                                        <td>Pre-computed SHA-256 hash (format: <code>sha256:...</code>)</td>
                                    </tr>
                                    <tr>
                                        <td>model</td>
                                        <td>string</td>
                                        <td>No</td>
                                        <td>AI model ID (default: <code>gpt-4</code>)</td>
                                    </tr>
                                    <tr>
                                        <td>role</td>
                                        <td>string</td>
                                        <td>No</td>
                                        <td>AI role: <code>generated</code>, <code>assisted</code>, or <code>edited</code> (default: <code>assisted</code>)</td>
                                    </tr>
                                    <tr>
                                        <td>document_type</td>
                                        <td>string</td>
                                        <td>No</td>
                                        <td>Content type (default: <code>text</code>)</td>
                                    </tr>
                                    <tr>
                                        <td>author</td>
                                        <td>string</td>
                                        <td>No</td>
                                        <td>Human author name</td>
                                    </tr>
                                    <tr>
                                        <td>prompt</td>
                                        <td>string</td>
                                        <td>No</td>
                                        <td>The prompt used</td>
                                    </tr>
                                    <tr>
                                        <td>prompt_private</td>
                                        <td>boolean</td>
                                        <td>No</td>
                                        <td>If true, only prompt hash is stored</td>
                                    </tr>
                                    <tr>
                                        <td>output</td>
                                        <td>string</td>
                                        <td>No</td>
                                        <td>Response format: <code>json</code> or <code>curl</code> (default: <code>json</code>)</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <h4>Example Request</h4>
                        <pre><code>curl -s "https://attest.ink/api/create.html?content_name=My%20Article&model=claude-3-opus&role=assisted&output=json"</code></pre>

                        <h4>Example Response (JSON)</h4>
                        <pre><code>{
  "version": "2.0",
  "id": "2025-08-05-abc123",
  "content_name": "My Article",
  "model": "claude-3-opus",
  "role": "assisted",
  "timestamp": "2025-08-05T10:30:00Z",
  "platform": "attest.ink",
  "dataUrl": "data:application/json;base64,eyJ2ZXJzaW9uIjoiMi4wIi...",
  "verifyUrl": "https://attest.ink/verify/?data=eyJ2ZXJzaW9uIjoiMi4wIi...",
  "badgeUrl": "https://attest.ink/assets/badges/claude-assisted.svg"
}</code></pre>

                        <h4>Example Response (curl format)</h4>
                        <pre><code># Badge HTML
&lt;a href="https://attest.ink/verify/?data=..." target="_blank"&gt;
  &lt;img src="https://attest.ink/assets/badges/claude-assisted.svg" alt="AI Assisted"&gt;
&lt;/a&gt;

# Markdown
[![AI Assisted](https://attest.ink/assets/badges/claude-assisted.svg)](https://attest.ink/verify/?data=...)</code></pre>
                    </div>

                    <div id="shorten-url" class="endpoint-section">
                        <h3>Shorten URL</h3>
                        <p>Create a permanent short URL for an attestation (Premium feature).</p>
                        
                        <div class="endpoint-header">
                            <span class="method-badge method-post">POST</span>
                            <code class="endpoint-url">/api/shorten</code>
                        </div>

                        <h4>Headers</h4>
                        <pre><code>Content-Type: application/json</code></pre>

                        <h4>Request Body</h4>
                        <div class="table-wrapper">
                            <table class="param-table">
                                <thead>
                                    <tr>
                                        <th>Parameter</th>
                                        <th>Type</th>
                                        <th>Required</th>
                                        <th>Description</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>dataUrl</td>
                                        <td>string</td>
                                        <td>Yes*</td>
                                        <td>The attestation data URL</td>
                                    </tr>
                                    <tr>
                                        <td>url</td>
                                        <td>string</td>
                                        <td>Yes*</td>
                                        <td>The attestation verify URL</td>
                                    </tr>
                                    <tr>
                                        <td>apiKey</td>
                                        <td>string</td>
                                        <td>Yes**</td>
                                        <td>API key for permanent URLs</td>
                                    </tr>
                                    <tr>
                                        <td>email</td>
                                        <td>string</td>
                                        <td>Yes**</td>
                                        <td>Email associated with API key</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <p><small>*Either <code>dataUrl</code> or <code>url</code> is required<br>
                        **Either <code>apiKey</code> or <code>email</code> is required</small></p>

                        <h4>Example Request</h4>
                        <pre><code>curl -X POST https://attest.ink/api/shorten \
  -H "Content-Type: application/json" \
  -d '{
    "dataUrl": "data:application/json;base64,eyJ2ZXJzaW9uIjoiMi4wIi4uLg==",
    "apiKey": "ak_1234567890abcdef"
  }'</code></pre>

                        <h4>Example Response</h4>
                        <pre><code>{
  "shortUrl": "https://attest.ink/s/abc123",
  "shortId": "abc123",
  "expiresAt": null
}</code></pre>
                    </div>

                    <div id="verify-attestation" class="endpoint-section">
                        <h3>Verify Attestation</h3>
                        <p>Programmatically verify an attestation.</p>
                        
                        <div class="endpoint-header">
                            <span class="method-badge method-post">POST</span>
                            <code class="endpoint-url">/api/verify</code>
                        </div>

                        <h4>Request Body</h4>
                        <pre><code>{
  "attestation": {
    "version": "2.0",
    "id": "2025-08-05-abc123",
    "content_name": "My Article",
    "content_hash": "sha256:...",
    "signature": {...}
  },
  "content": "Optional: original content for hash verification"
}</code></pre>

                        <h4>Example Response</h4>
                        <pre><code>{
  "valid": true,
  "checks": {
    "format": true,
    "version": true,
    "required_fields": true,
    "content_hash": true,
    "signature": true
  },
  "errors": [],
  "warnings": []
}</code></pre>
                    </div>

                    <div id="get-ai-models" class="endpoint-section">
                        <h3>Get AI Models</h3>
                        <p>Retrieve the list of supported AI models.</p>
                        
                        <div class="endpoint-header">
                            <span class="method-badge method-get">GET</span>
                            <code class="endpoint-url">/api/ai-models</code>
                        </div>

                        <h4>Example Request</h4>
                        <pre><code>curl -s https://attest.ink/api/ai-models</code></pre>

                        <h4>Example Response</h4>
                        <pre><code>{
  "success": true,
  "models": {
    "openai": {
      "name": "OpenAI",
      "models": [
        {
          "id": "gpt-5",
          "name": "GPT-5 (Coming Soon)",
          "color": "#74aa9c"
        },
        {
          "id": "gpt-4-turbo-2024-04-09",
          "name": "GPT-4 Turbo (Apr 2024)",
          "color": "#74aa9c"
        }
      ]
    },
    "anthropic": {
      "name": "Anthropic",
      "models": [
        {
          "id": "claude-4.1-opus",
          "name": "Claude 4.1 Opus",
          "color": "#d4a373"
        }
      ]
    }
  },
  "lastUpdated": "2025-08-05T10:30:00Z"
}</code></pre>
                    </div>
                </section>

                <section id="response-formats">
                    <h2>Response Formats</h2>
                    
                    <h3>Standard Success Response</h3>
                    <pre><code>{
  "success": true,
  "data": {...},
  "message": "Operation completed successfully"
}</code></pre>

                    <h3>Standard Error Response</h3>
                    <pre><code>{
  "success": false,
  "error": "Error message",
  "code": "ERROR_CODE",
  "details": {...}
}</code></pre>
                </section>

                <section id="error-handling">
                    <h2>Error Handling</h2>
                    
                    <h3>HTTP Status Codes</h3>
                    <div class="table-wrapper">
                        <table class="param-table">
                            <thead>
                                <tr>
                                    <th>Code</th>
                                    <th>Description</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>200</td>
                                    <td>Success</td>
                                </tr>
                                <tr>
                                    <td>400</td>
                                    <td>Bad Request - Invalid parameters</td>
                                </tr>
                                <tr>
                                    <td>403</td>
                                    <td>Forbidden - Payment required or invalid API key</td>
                                </tr>
                                <tr>
                                    <td>404</td>
                                    <td>Not Found - Resource doesn't exist</td>
                                </tr>
                                <tr>
                                    <td>405</td>
                                    <td>Method Not Allowed</td>
                                </tr>
                                <tr>
                                    <td>429</td>
                                    <td>Too Many Requests - Rate limit exceeded</td>
                                </tr>
                                <tr>
                                    <td>500</td>
                                    <td>Internal Server Error</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <h3>Error Codes</h3>
                    <div class="table-wrapper">
                        <table class="param-table">
                            <thead>
                                <tr>
                                    <th>Code</th>
                                    <th>Description</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>INVALID_PARAMS</td>
                                    <td>Missing or invalid parameters</td>
                                </tr>
                                <tr>
                                    <td>PAYMENT_REQUIRED</td>
                                    <td>Premium feature requires payment</td>
                                </tr>
                                <tr>
                                    <td>INVALID_API_KEY</td>
                                    <td>API key is invalid or expired</td>
                                </tr>
                                <tr>
                                    <td>RATE_LIMIT</td>
                                    <td>Rate limit exceeded</td>
                                </tr>
                                <tr>
                                    <td>INVALID_CONTENT</td>
                                    <td>Content validation failed</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <section id="rate-limits">
                    <h2>Rate Limits</h2>
                    <ul>
                        <li><strong>Public endpoints:</strong> 100 requests per minute per IP</li>
                        <li><strong>Authenticated endpoints:</strong> 1000 requests per minute per API key</li>
                        <li><strong>Burst allowance:</strong> 10x rate for 10 seconds</li>
                    </ul>
                    
                    <p>Rate limit headers:</p>
                    <pre><code>X-RateLimit-Limit: 100
X-RateLimit-Remaining: 99
X-RateLimit-Reset: 1628089200</code></pre>
                </section>

                <section id="code-examples" class="code-examples">
                    <h2>Code Examples</h2>
                    
                    <div class="language-tabs">
                        <button class="language-tab active" data-lang="javascript">JavaScript</button>
                        <button class="language-tab" data-lang="python">Python</button>
                        <button class="language-tab" data-lang="php">PHP</button>
                        <button class="language-tab" data-lang="ruby">Ruby</button>
                        <button class="language-tab" data-lang="go">Go</button>
                    </div>

                    <div class="code-example active" id="javascript-example">
                        <h3>JavaScript/Node.js</h3>
                        <pre><code>const axios = require('axios');

async function createAttestation(contentName, model = 'gpt-4') {
  const params = new URLSearchParams({
    content_name: contentName,
    model: model,
    role: 'assisted',
    output: 'json'
  });
  
  const response = await axios.get(`https://attest.ink/api/create.html?${params}`);
  return response.data;
}

async function shortenUrl(dataUrl, apiKey) {
  const response = await axios.post('https://attest.ink/api/shorten', {
    dataUrl: dataUrl,
    apiKey: apiKey
  });
  return response.data.shortUrl;
}

// Usage
(async () => {
  const attestation = await createAttestation('My Project', 'claude-3-opus');
  console.log('Verification URL:', attestation.verifyUrl);
  
  if (process.env.ATTEST_INK_API_KEY) {
    const shortUrl = await shortenUrl(attestation.dataUrl, process.env.ATTEST_INK_API_KEY);
    console.log('Short URL:', shortUrl);
  }
})();</code></pre>
                    </div>

                    <div class="code-example" id="python-example">
                        <h3>Python</h3>
                        <pre><code>import requests
import json
from urllib.parse import urlencode

def create_attestation(content_name, model='gpt-4', role='assisted'):
    """Create an AI attestation"""
    params = {
        'content_name': content_name,
        'model': model,
        'role': role,
        'output': 'json'
    }
    
    response = requests.get(
        'https://attest.ink/api/create.html',
        params=params
    )
    response.raise_for_status()
    return response.json()

def shorten_url(data_url, api_key):
    """Create a short URL for an attestation"""
    response = requests.post(
        'https://attest.ink/api/shorten',
        json={
            'dataUrl': data_url,
            'apiKey': api_key
        }
    )
    response.raise_for_status()
    return response.json()['shortUrl']

# Usage
if __name__ == '__main__':
    # Create attestation
    attestation = create_attestation('My Python Project', 'github-copilot')
    print(f"Verification URL: {attestation['verifyUrl']}")
    
    # Create short URL if API key is available
    import os
    if api_key := os.getenv('ATTEST_INK_API_KEY'):
        short_url = shorten_url(attestation['dataUrl'], api_key)
        print(f"Short URL: {short_url}")</code></pre>
                    </div>

                    <div class="code-example" id="php-example">
                        <h3>PHP</h3>
                        <pre><code>&lt;?php
function createAttestation($contentName, $model = 'gpt-4', $role = 'assisted') {
    $params = http_build_query([
        'content_name' => $contentName,
        'model' => $model,
        'role' => $role,
        'output' => 'json'
    ]);
    
    $url = "https://attest.ink/api/create.html?{$params}";
    $response = file_get_contents($url);
    return json_decode($response, true);
}

function shortenUrl($dataUrl, $apiKey) {
    $data = json_encode([
        'dataUrl' => $dataUrl,
        'apiKey' => $apiKey
    ]);
    
    $options = [
        'http' => [
            'method' => 'POST',
            'header' => 'Content-Type: application/json',
            'content' => $data
        ]
    ];
    
    $context = stream_context_create($options);
    $response = file_get_contents('https://attest.ink/api/shorten', false, $context);
    $result = json_decode($response, true);
    return $result['shortUrl'];
}

// Usage
$attestation = createAttestation('My PHP Project', 'gpt-4');
echo "Verification URL: {$attestation['verifyUrl']}\n";

if ($apiKey = getenv('ATTEST_INK_API_KEY')) {
    $shortUrl = shortenUrl($attestation['dataUrl'], $apiKey);
    echo "Short URL: {$shortUrl}\n";
}
?&gt;</code></pre>
                    </div>

                    <div class="code-example" id="ruby-example">
                        <h3>Ruby</h3>
                        <pre><code>require 'net/http'
require 'json'
require 'uri'

def create_attestation(content_name, model: 'gpt-4', role: 'assisted')
  uri = URI('https://attest.ink/api/create.html')
  uri.query = URI.encode_www_form(
    content_name: content_name,
    model: model,
    role: role,
    output: 'json'
  )
  
  response = Net::HTTP.get_response(uri)
  JSON.parse(response.body)
end

def shorten_url(data_url, api_key)
  uri = URI('https://attest.ink/api/shorten')
  http = Net::HTTP.new(uri.host, uri.port)
  http.use_ssl = true
  
  request = Net::HTTP::Post.new(uri)
  request['Content-Type'] = 'application/json'
  request.body = {
    dataUrl: data_url,
    apiKey: api_key
  }.to_json
  
  response = http.request(request)
  JSON.parse(response.body)['shortUrl']
end

# Usage
attestation = create_attestation('My Ruby Project', model: 'github-copilot')
puts "Verification URL: #{attestation['verifyUrl']}"

if api_key = ENV['ATTEST_INK_API_KEY']
  short_url = shorten_url(attestation['dataUrl'], api_key)
  puts "Short URL: #{short_url}"
end</code></pre>
                    </div>

                    <div class="code-example" id="go-example">
                        <h3>Go</h3>
                        <pre><code>package main

import (
    "bytes"
    "encoding/json"
    "fmt"
    "io/ioutil"
    "net/http"
    "net/url"
    "os"
)

type Attestation struct {
    Version   string `json:"version"`
    ID        string `json:"id"`
    DataURL   string `json:"dataUrl"`
    VerifyURL string `json:"verifyUrl"`
}

type ShortenResponse struct {
    ShortURL string `json:"shortUrl"`
    ShortID  string `json:"shortId"`
}

func createAttestation(contentName, model string) (*Attestation, error) {
    params := url.Values{}
    params.Add("content_name", contentName)
    params.Add("model", model)
    params.Add("role", "assisted")
    params.Add("output", "json")
    
    resp, err := http.Get("https://attest.ink/api/create.html?" + params.Encode())
    if err != nil {
        return nil, err
    }
    defer resp.Body.Close()
    
    var attestation Attestation
    if err := json.NewDecoder(resp.Body).Decode(&attestation); err != nil {
        return nil, err
    }
    
    return &attestation, nil
}

func shortenURL(dataURL, apiKey string) (string, error) {
    payload := map[string]string{
        "dataUrl": dataURL,
        "apiKey":  apiKey,
    }
    
    jsonData, err := json.Marshal(payload)
    if err != nil {
        return "", err
    }
    
    resp, err := http.Post(
        "https://attest.ink/api/shorten",
        "application/json",
        bytes.NewBuffer(jsonData),
    )
    if err != nil {
        return "", err
    }
    defer resp.Body.Close()
    
    var result ShortenResponse
    if err := json.NewDecoder(resp.Body).Decode(&result); err != nil {
        return "", err
    }
    
    return result.ShortURL, nil
}

func main() {
    attestation, err := createAttestation("My Go Project", "github-copilot")
    if err != nil {
        panic(err)
    }
    
    fmt.Printf("Verification URL: %s\n", attestation.VerifyURL)
    
    if apiKey := os.Getenv("ATTEST_INK_API_KEY"); apiKey != "" {
        shortURL, err := shortenURL(attestation.DataURL, apiKey)
        if err != nil {
            panic(err)
        }
        fmt.Printf("Short URL: %s\n", shortURL)
    }
}</code></pre>
                    </div>
                </section>

                <section>
                    <h2>Webhooks (Coming Soon)</h2>
                    <p>Future support for webhooks to notify your application of events:</p>
                    <ul>
                        <li>Attestation created</li>
                        <li>Attestation verified</li>
                        <li>Short URL accessed</li>
                    </ul>
                </section>

                <section>
                    <h2>Support</h2>
                    <ul>
                        <li><strong>Documentation:</strong> <a href="https://attest.ink/docs">attest.ink/docs</a></li>
                        <li><strong>GitHub Issues:</strong> <a href="https://github.com/statusdothealth/attest.ink/issues">Report bugs or request features</a></li>
                        <li><strong>Email:</strong> <a href="mailto:api@attest.ink">api@attest.ink</a></li>
                    </ul>
                    
                    <div class="info-box">
                        <p>Last updated: August 2025</p>
                    </div>
                </section>
            </div>
        </main>
        
        <footer>
            <p>A public-benefit, open-source AI integrity protocol | <a href="/protocol/">Learn about the protocol</a></p>
        </footer>
    </div>
    
    <script src="/static/theme.js"></script>
    <script src="/static/mobile-nav.js"></script>
    <script src="/static/global-footer.js"></script>
    <script>
        // Language tab switching
        document.addEventListener('DOMContentLoaded', function() {
            const tabs = document.querySelectorAll('.language-tab');
            const examples = document.querySelectorAll('.code-example');
            
            tabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    const lang = this.getAttribute('data-lang');
                    
                    // Update active tab
                    tabs.forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Show corresponding example
                    examples.forEach(ex => ex.classList.remove('active'));
                    document.getElementById(lang + '-example').classList.add('active');
                });
            });
        });
        
        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
    </script>
</body>
</html>